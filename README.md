# kubecommand
<div class="col-sm-8 col-offset-1 main-layout"><header class="post-header"><h1 class="post-title">My kubectl Cheat Sheet</h1></header><span class="time">by Carlos Mendible on 18 Mar 2018</span> <span class="categories"> » <a href="/category/kubernetes">kubernetes</a> </span><div class="content"><div class="post"><p>This is a small <strong><a href="https://kubernetes.io/docs/reference/kubectl/overview/">kubectl</a> Cheat Sheet</strong> with the list of commands and settings I use, almost on a daily basis, when working with kubernetes.</p><h2 id="get-version-and-cluster-information">Get version and cluster information</h2><h3 id="get-kubectl-version">Get kubectl version</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl <span class="nt">--version</span>
</code></pre></div></div><h3 id="get-cluster-information">Get cluster information</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl cluster-info
</code></pre></div></div><h3 id="check-cluster-nodes">Check cluster nodes</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl get nodes
</code></pre></div></div><h3 id="get-running-services">Get running services</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl get services <span class="nt">-w</span> <span class="nt">--all-namespaces</span>
</code></pre></div></div><h2 id="context">Context</h2><h3 id="list-all-available-contexts">List all available contexts</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl config get-contexts
</code></pre></div></div><h3 id="get-current-context">Get current context</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl config current-context
</code></pre></div></div><h3 id="change-the-context">Change the context</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl config use-context <span class="o">[</span>context name]
</code></pre></div></div><h2 id="deployment">Deployment</h2><h3 id="deploy">Deploy</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-f</span> <span class="o">[</span>yaml definition file]
</code></pre></div></div><h3 id="get-deployment-definition">Get deployment definition</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl get deployment <span class="o">[</span>deployment name] <span class="nt">-o</span> yaml
</code></pre></div></div><h3 id="update-the-image-of-a-deployment">Update the image of a deployment</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl <span class="nb">set </span>image deployment/[deployment name] <span class="o">[</span>container name]<span class="o">=[</span>image tag]
</code></pre></div></div><h3 id="set-autoscale-for-a-deployment">Set autoscale for a deployment</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl autoscale deployment <span class="o">[</span>deployment name] <span class="nt">--min</span><span class="o">=</span>2 <span class="nt">--max</span><span class="o">=</span>5 <span class="nt">--cpu-percent</span><span class="o">=</span>80
</code></pre></div></div><h3 id="delete-a-deployment">Delete a deployment</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl delete <span class="nt">-f</span> <span class="o">[</span>yaml definition file]
</code></pre></div></div><h3 id="get-secret-definition">Get secret definition</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl get secret <span class="o">[</span>secret name] <span class="nt">-o</span> yaml
</code></pre></div></div><h3 id="force-delete-a-pod">Force delete a pod</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl delete pod <span class="o">[</span>pod name] <span class="nt">--grace-period</span><span class="o">=</span>0 <span class="nt">--force</span>
</code></pre></div></div><h2 id="logs">Logs</h2><h3 id="read-a-pods-log">Read a pod’s log</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl logs <span class="o">[</span>pod name] <span class="nt">-n</span> <span class="o">[</span>namespace name]
</code></pre></div></div><h2 id="misc">Misc</h2><h3 id="install-kubernetes-dashboard">Install kubernetes dashboard</h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-f</span> <a class="vglnk" href="https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml" rel="nofollow"><span>https</span><span>://</span><span>raw</span><span>.</span><span>githubusercontent</span><span>.</span><span>com</span><span>/</span><span>kubernetes</span><span>/</span><span>dashboard</span><span>/</span><span>master</span><span>/</span><span>src</span><span>/</span><span>deploy</span><span>/</span><span>recommended</span><span>/</span><span>kubernetes</span><span>-</span><span>dashboard</span><span>.</span><span>yaml</span></a>
